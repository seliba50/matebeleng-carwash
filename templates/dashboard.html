{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Matebeleng Carwash | Cybersecurity Awareness Dashboard</title>

  <!-- Bootstrap and Font Awesome (for icons) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

  <style>
    /* ======= Global Page Styling ======= */
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #ffffff);
      margin: 0;
      padding: 0;
      color: #0d1b2a;
    }

    .container {
      margin-top: 40px;
    }

    /* ======= Logo Section ======= */
    .logo-container {
      text-align: center;
      margin-bottom: 25px;
      animation: fadeIn 2s ease-in-out;
    }

    .logo-container img {
      width: 180px;
      height: auto;
      filter: drop-shadow(0px 0px 8px rgba(255, 183, 3, 0.6));
      transition: transform 1s ease-in-out, filter 1s ease-in-out;
    }

    .logo-container img:hover {
      transform: rotate(360deg);
      filter: drop-shadow(0px 0px 12px rgba(255, 193, 7, 0.9));
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    /* ======= Header ======= */
    h2 i {
      color: #ffb703;
    }

    h2 {
      color: #0d1b2a;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .text-muted {
      font-style: italic;
    }

    /* ======= Cards ======= */
    .card {
      border: none;
      border-radius: 20px;
      box-shadow: 0px 6px 20px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.15);
    }

    .card-header {
      font-weight: 600;
      border-radius: 20px 20px 0 0 !important;
    }

    .table th {
      width: 120px;
    }

    /* ======= Buttons ======= */
    .btn-outline-primary, .btn-outline-success, .btn-outline-warning, .btn-outline-info, .btn-outline-secondary {
      border-radius: 12px;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .btn-outline-primary:hover {
      background-color: #219ebc;
      color: #fff;
    }

    .btn-outline-success:hover {
      background-color: #2a9d8f;
      color: #fff;
    }

    .btn-outline-warning:hover {
      background-color: #ffb703;
      color: #fff;
    }

    .btn-outline-info:hover {
      background-color: #00b4d8;
      color: #fff;
    }

    .btn-outline-secondary:hover {
      background-color: #6c757d;
      color: #fff;
    }

    /* ======= Footer ======= */
    footer {
      text-align: center;
      margin-top: 40px;
      padding: 10px 0;
      color: #777;
    }

    footer span {
      color: #ffb703;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <div class="container mt-4">
    <!-- ======= Logo ======= -->
    <div class="row">
      <div class="col-12 logo-container">
        <img src="{{ url_for('static', filename='images/Matebeleng logo.png') }}" alt="Matebeleng Carwash Logo">
      </div>
    </div>

    <!-- ======= Header ======= -->
    <div class="row text-center mb-4">
      <div class="col-12">
        <h2><i class="fas fa-tachometer-alt"></i> {{ _('Dashboard') }}</h2>
        <p class="text-muted">Welcome to the Matebeleng Carwash Cybersecurity Awareness Dashboard</p>
      </div>
    </div>

    <!-- ======= Dashboard Content ======= -->
    <div class="row mt-4">
      <!-- User Info Card -->
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header bg-info text-white">
            <h5 class="mb-0"><i class="fas fa-user-circle"></i> User Information</h5>
          </div>
          <div class="card-body">
            <table class="table table-borderless">
              <tr>
                <th>Username:</th>
                <td>{{ stats.username }}</td>
              </tr>
              <tr>
                <th>Email:</th>
                <td>{{ stats.email }}</td>
              </tr>
              <tr>
                <th>Role:</th>
                <td><span class="badge bg-primary">{{ stats.role }}</span></td>
              </tr>
              <tr>
                <th>Language:</th>
                <td><span class="badge bg-secondary">{{ stats.language|upper }}</span></td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header bg-success text-white">
            <h5 class="mb-0"><i class="fas fa-rocket"></i> Quick Actions</h5>
          </div>
          <div class="card-body">
            <div class="d-grid gap-2">
              {% if stats.role == 'admin' %}
                <a href="{{ url_for('admin_users') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-users-cog"></i> Manage Users
                </a>
                <a href="{{ url_for('admin_quizzes') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-question-circle"></i> Manage Quizzes
                </a>
                <a href="{{ url_for('admin_reports') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-chart-bar"></i> View Reports
                </a>
                <a href="{{ url_for('admin_analytics') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-chart-line"></i> System Analytics
                </a>
                <a href="{{ url_for('system_logs') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-clipboard-list"></i> System Logs
                </a>
              {% else %}
                <a href="{{ url_for('quizzes') }}" class="btn btn-outline-success btn-lg text-start">
                  <i class="fas fa-play-circle"></i> Take a Quiz
                </a>
                <a href="{{ url_for('user_analytics') }}" class="btn btn-outline-info btn-lg text-start">
                  <i class="fas fa-history"></i> My Progress
                </a>
                <a href="{{ url_for('user_certificates') }}" class="btn btn-outline-warning btn-lg text-start">
                  <i class="fas fa-certificate"></i> My Certificates
                </a>
                <a href="{{ url_for('learning_resources') }}" class="btn btn-outline-primary btn-lg text-start">
                  <i class="fas fa-book"></i> Learning Resources
                </a>
                <a href="{{ url_for('user_achievements') }}" class="btn btn-outline-secondary btn-lg text-start">
                  <i class="fas fa-trophy"></i> My Achievements
                </a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ======= Footer ======= -->
    <footer>
      <p>© {{ current_year }} <span>Matebeleng Carwash</span> — Cybersecurity Awareness Initiative</p>
    </footer>
  </div>
</body>
</html>
{% endblock %}
